<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="http://www.thymeleaf.org" lang="fr">
    <head>
        <meta charset="UTF-8"/>
        <link rel="stylesheet" type="text/css" href="../css/CSS.css"/>
        <title>Patient</title>  
    </head>
    <body>
        <div class="menu">
            <ul>
                <li><a href="#">Patients</a></li>
                <li><a>Données générales</a></li>

                <li><div class="menus"><a>Examens</a></div><ul>   
                        <li><div class="menus"><a>Examens cliniques</a></div><ul>
                                <li><a>Signes généraux</a></li>
                                <li><a>Examen region cevicales</a></li>
                                <li><a>Examen ophtalmologique</a></li>
                                <li><a>Examen neurologique</a></li>
                                <li><a>Examen aire ganglionnaire</a></li>
                            </ul></li>

                        <li><div class="menus"><a>Examens paracliniques</a></div><ul>
                                <li><a>Morphologique</a></li>
                                <li><a>Biologique</a></li>
                                <li><a>Fonctionnel</a></li>
                            </ul>
                        </li>
                    </ul></li>

                <li><a>Photos</a></li>

                <li><a>Diagnostic</a></li>   
            </ul>
        </div><br/><br/>
   

       
        <a th:href="@{add(idMedecin=3)}" href="formulairePatient.html">
        <div class="plus">+</div>
                    <div class="texteajout">Ajouter un patient</div>
        </a><br/><br/>
        <table>
            <thead>
                <tr>

                    <th>Nom</th>
                    <th>Prenom</th>
                    <th>Genre</th>
                    <th>Date de Naissance</th>
       
                    <th>Medecin</th>
                    <th>Examens</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody th:each = "p:${patients}">
                <tr>

                    <td th:text = "${p.nom}"></td>
                    <td th:text = "${p.prenom}"></td>
                    <td th:text = "${p.genre}? 'Femme' : 'Homme'"></td>
                    <td th:text = "${p.date_naissance}"></td>
               
                    <td th:if = "${p.medecin_patient==null}">Medecin inconnu</td>
                    <td th:unless = "${p.medecin_patient==null}">[[${p.medecin_patient.nom}]]</td>
                    <td><a th:href="@{../examen/show(idPatient=${p.id_patient})}">Voir les examens</a></td>
                    <td> <a th:href="@{../anamnese/add(idPatient=${p.id_patient})}"> Ajouter l'anamnese</a></td>
                </tr>
            </tbody>
        </table>
    </body>

</html>